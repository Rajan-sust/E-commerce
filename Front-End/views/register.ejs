<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('head'); -%>

    <style type="text/css">
        .corner {
            border-radius: 5px;
            padding: 35px;
            box-shadow: 0px 0px 5px;
            margin-top: 100px;
        }
    </style>
</head>

<body>
<%- include('navbar'); -%>

<div class="alert alert-success" role="alert" id="registerAlert">
    <a href="/login" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <p id="pRegisterAlert" style="text-align: center;"></p>
</div>


<div class="container">
    <div class="row">
        <div class="col-md-4"></div>

        <div class="col-md-4 corner">

            <form action="/api/register" method="post">

                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" name="firstname" class="form-control">
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" name="lastname" class="form-control">
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" name="email" class="form-control">
                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input type="password" name="password" class="form-control">
                </div>

                <button type="submit" class="btn btn-primary">Register</button>
            </form>

        </div>

        <div class="col-md-4"></div>
    </div>
</div>

<script type="text/javascript">

    $('#registerAlert').hide();

    var urlParams = new URLSearchParams(window.location.search);
    var myParam = urlParams.get('status');

    if(myParam == "error") {
        document.getElementById('pRegisterAlert').innerText = 'Email address has been already used. Please, try again.';
        $('#registerAlert').show();
    } else if(myParam == "success"){
        document.getElementById('pRegisterAlert').innerText = 'Registration succesful! You may login now.';
        $('#registerAlert').show();
    }

</script>

</body>

</html>